@model MVCAuctionPortal.Models.AuctionViewModel
@{
    ViewBag.Title = "Create Auction";
}
<form method="post" action="@Url.Action("Create", "Auction")">
    <div class="form-group">
        <label for="title">Title:</label>
        <input type="text" class="form-control" id="title" name="title" required>
    </div>
    <div class="form-group">
        <label for="endDate">End Date:</label>
        <input type="date" class="form-control" id="endDate" name="endDate" required>
    </div>
    <div class="form-group">
        <label for="price">Price:</label>
        <input type="number" class="form-control" id="price" name="price" required>
    </div>
    <div class="form-group">
        <label for="pieces">Pieces:</label>
        <input type="number" class="form-control" id="pieces" name="pieces" required>
    </div>
    <div class="form-group">
        <label for="SubCategoryID">SubCategory:</label>
        <select class="form-control" id="SubCategoryID" name="SubCategoryID" required>
            @foreach (var subCategory in Model.SubCategories)
            {
                <option value="@subCategory.SubCategoryID">@subCategory.Name</option>
            }
        </select>
    </div>
    <div class="form-group">
        <label for="itemID">Item:</label>
        <select class="form-control" id="itemID" name="itemID" required>
            <option value="">-- Select Item --</option>
            <option value="0">-- Add New --</option>
            @foreach (var item in Model.Items)
            {
                <option value="@item.ItemID">@item.Name</option>
            }
        </select>
    </div>

    <div class="form-group" id="newItemDiv" style="display:none">
        <label for="NewItemName">New Item Name:</label>
        <input type="text" class="form-control" id="NewItemName" name="NewItemName">

        <label for="NewItemDescription">Description:</label>
        <textarea class="form-control" id="NewItemDescription" name="NewItemDescription"></textarea>

        <label for="NewItemManufacturer">Manufacturer:</label>
        <input type="text" class="form-control" id="NewItemManufacturer" name="NewItemManufacturer">

        <label for="NewItemCondition">Condition:</label>
        <input type="text" class="form-control" id="NewItemCondition" name="NewItemCondition">

        <label for="NewItemModel">Model:</label>
        <input type="text" class="form-control" id="NewItemModel" name="NewItemModel">

        <label for="NewItemOther">Other:</label>
        <input type="text" class="form-control" id="NewItemOther" name="NewItemOther">
    </div>


    <div class="form-group">
        <label for="warrantyID">Warranty:</label>
        <select class="form-control" id="warrantyID" name="warrantyID" required>
            @foreach (var warranty in Model.Warranties)
            {
                <option value="@warranty.WarrantyID">@warranty.Name</option>
            }
        </select>
    </div>
    <div class="form-group">
        <label for="imageURL">Image URL:</label>
        <input type="url" class="form-control" id="imageURL" name="imageURL" required>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</form>
@section Scripts
    {
    <script>
        document.getElementById("itemID").addEventListener("change", function () {
            var newItemDiv = document.getElementById("newItemDiv");
            if (this.value == "0") {
                newItemDiv.style.display = "block";
            } else {
                newItemDiv.style.display = "none";
            }
        });
    </script>
}
